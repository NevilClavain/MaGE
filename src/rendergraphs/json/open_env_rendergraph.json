{
  "subs_nodes": [
    {
      "target": {
        "descr": "Fog",
        "shaders": [
          {
            "name": "combiner_fog_vs"
          },
          {
            "name": "combiner_fog_ps",
            "args": [
              {
                "source": "std.fog.color",
                "destination": "fog_color"
              },
              {
                "source": "std.fog.density",
                "destination": "fog_density"
              }
            ]
          }
        ],
        "inputs": [
          {
            "stage": 0,
            "buffer_texture": {
              "format_descr": "TEXTURE_RGB"
            }
          },
          {
            "stage": 1,
            "buffer_texture": {
              "format_descr": "TEXTURE_FLOAT32"
            }
          }
        ],
        "target_stage": 0,
        "subs_nodes": [

          {
            "target": {
              "descr": "ModulateFogAndLitTextures",

              "shaders": [
                {
                  "name": "combiner_modulate_vs"
                },
                {
                  "name": "combiner_modulate_ps"
                }
              ],
              "inputs": [
                {
                  "stage": 0,
                  "buffer_texture": {
                    "format_descr": "TEXTURE_RGB"
                  }
                },
                {
                  "stage": 1,
                  "buffer_texture": {
                    "format_descr": "TEXTURE_RGB"
                  }
                }
              ],
              "target_stage": 0,

              "subs_nodes": [

                {
                  "queue": {
                    "id": "TextureChannelScene_Entity",

                    "rendering_channel_type": "texture",

                    "target_depth_clear": true,
                    "target_clear": true,
                    "target_clear_color": {
                      "r": 0,
                      "g": 0,
                      "b": 0,
                      "a": 255
                    },
                    "target_stage": 0
                  }
                },
                {
                  "target": {
                    "descr": "AddAmbientAndEmissive",

                    "shaders": [
                      {
                        "name": "combiner_accumulate2chan_vs"
                      },
                      {
                        "name": "combiner_accumulate2chan_ps"
                      }
                    ],
                    "inputs": [
                      {
                        "stage": 0,
                        "buffer_texture": {
                          "format_descr": "TEXTURE_RGB"
                        }
                      },
                      {
                        "stage": 1,
                        "buffer_texture": {
                          "format_descr": "TEXTURE_RGB"
                        }
                      }
                    ],
                    "target_stage": 1,

                    "subs_nodes": [
                      {
                        "queue": {
                          "id": "AmbientLitChannelScene_Entity",

                          "rendering_channel_type": "ambient_lit",

                          "target_depth_clear": true,
                          "target_clear": true,
                          "target_clear_color": {
                            "r": 0,
                            "g": 0,
                            "b": 0,
                            "a": 255
                          },
                          "target_stage": 0
                        }
                      },
                      {
                        "queue": {
                          "id": "EmissiveLitChannelScene_Entity",

                          "rendering_channel_type": "emissive_lit",

                          "target_depth_clear": true,
                          "target_clear": true,
                          "target_clear_color": {
                            "r": 0,
                            "g": 0,
                            "b": 0,
                            "a": 255
                          },
                          "target_stage": 1
                        }
                      }
                    ]
                  }
                }
              ]
            }
          },
          {
            "queue": {
              "id": "ZdepthChannelScene_Entity",

              "rendering_channel_type": "zdepth",

              "target_depth_clear": true,
              "target_clear": true,
              "target_clear_color": {
                "r": 0,
                "g": 0,
                "b": 0,
                "a": 255
              },
              "target_stage": 1
            }
          }
        ]
      }
    }
  ]
}
